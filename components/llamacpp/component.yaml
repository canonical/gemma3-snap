environment:
- OPENAI_BASE_PATH=/v1
# Append $COMPONENT/usr/lib/$ARCH_TRIPLET for the the staged debs
- LD_LIBRARY_PATH=$LD_LIBRARY_PATH:$COMPONENT/lib:$COMPONENT/usr/lib/$ARCH_TRIPLET
- SERVER_ENTRYPOINT=$COMPONENT/bin/llama-server

# pre-run: |
#   PORT="$(gemma get http.port)"
#   HOST="$(gemma get http.host)"

#   EXTRA_ARGS=()

#   verbose="$(gemma get verbose)"
#   if [ "${verbose}" = "true" ]; then
#     EXTRA_ARGS+=(--verbose)
#   fi

# run: |
#   exec "$SERVER_ENTRYPOINT" \
#     --model "$MODEL_FILE" \
#     --mmproj "$MMPROJ_FILE" \
#     --port "$PORT" \
#     --host "$HOST" \
#     "${EXTRA_ARGS[@]}"
